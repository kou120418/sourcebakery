(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-158a5fa8"],{"0fe4":function(t,e,c){"use strict";c("5357")},5357:function(t,e,c){},e4f3:function(t,e,c){"use strict";var n=function(t){return{all:t=t||new Map,on:function(e,c){var n=t.get(e);n?n.push(c):t.set(e,[c])},off:function(e,c){var n=t.get(e);n&&(c?n.splice(n.indexOf(c)>>>0,1):t.set(e,[]))},emit:function(e,c){var n=t.get(e);n&&n.slice().map((function(t){t(c)})),(n=t.get("*"))&&n.slice().map((function(t){t(e,c)}))}}},o=n();e["a"]=o},e727:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),o=function(t){return Object(n["pushScopeId"])("data-v-9ec72120"),t=t(),Object(n["popScopeId"])(),t},a={id:"main",class:"container-lg content"},r=o((function(){return Object(n["createElementVNode"])("h2",{class:"p-5"},null,-1)})),l={key:0},i={class:"container my-5"},s=o((function(){return Object(n["createElementVNode"])("h3",{class:"mt-4 mb-4"},"購物車內容",-1)})),d={class:"row"},u={class:"col-md-8"},b={class:"table"},p=o((function(){return Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{scope:"col",class:"border-0 ps-0"},"商品名稱"),Object(n["createElementVNode"])("th",{scope:"col",class:"border-0"},"商品單價"),Object(n["createElementVNode"])("th",{scope:"col",class:"border-0"},"數量"),Object(n["createElementVNode"])("th",{scope:"col",class:"border-0"},"小計"),Object(n["createElementVNode"])("th",{scope:"col",class:"border-0"},"刪除")])],-1)})),m={scope:"row",class:"border-0 px-0 font-weight-normal py-4"},j=["src","alt"],f={class:"mb-0 fw-bold ms-3 d-inline-block"},O={class:"border-0 align-middle"},h={class:"mb-0 ms-auto"},y={class:"border-0 align-middle",style:{"max-width":"160px"}},E={class:"input-group pe-5"},N={class:"input-group-prepend"},V=["onClick"],g=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-dash-square"},null,-1)})),v=[g],k=["onUpdate:modelValue","onFocus","onBlur"],x={class:"input-group-append"},w=["onClick"],_=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-plus-square"},null,-1)})),C=[_],B={class:"border-0 align-middle"},q={class:"mb-0 ms-auto"},I={class:"border-0 align-middle"},$=["onClick"],S=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-x-square"},null,-1)})),L=[S],D={class:"col-md-4"},T={class:"border p-4 mb-4"},Q=o((function(){return Object(n["createElementVNode"])("h4",{class:"fw-bold mb-4"},"訂單詳細",-1)})),z={class:"table text-muted border-bottom"},F=o((function(){return Object(n["createElementVNode"])("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"小計",-1)})),M={key:0,class:"text-end border-0 px-0 pt-4"},A={key:1,class:"text-end border-0 px-0 pt-4"},U=o((function(){return Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"優惠券"),Object(n["createElementVNode"])("td",{class:"text-end border-0 px-0 pt-0 pb-4"},"未選擇")],-1)})),J={class:"d-flex justify-content-between mt-4"},G=o((function(){return Object(n["createElementVNode"])("p",{class:"mb-0 h4 fw-bold"},"應付金額",-1)})),H={key:0,class:"mb-0 h4 fw-bold"},K={key:1,class:"mb-0 h4 fw-bold"},P={class:"card-lick col-12"},R=o((function(){return Object(n["createElementVNode"])("span",null,"前往付款",-1)})),W={key:1},X={class:"container my-5"},Y={class:"nothing-in-cart__bg nothing-in-cart__bg-setting text-light flex-column","data-aos":"fade-zoom-in","data-aos-delay":"1000","data-aos-duration":"600"},Z=o((function(){return Object(n["createElementVNode"])("span",{class:"fs-4 ls-2 fw-normal mb-5","data-aos":"fade-zoom-in","data-aos-delay":"1500","data-aos-duration":"600"},"購物車內沒有任何產品喔！",-1)})),tt={id:"nothing-in-cart",class:"container row g-2 d-flex justify-content-center w-60"},et=Object(n["createTextVNode"])(" 來去逛逛"),ct=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-cart2 ms-1"},null,-1)})),nt=[et,ct];function ot(t,e,c,o,g,_){var S=Object(n["resolveComponent"])("Loading"),et=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(S,{active:g.isLoading,"z-index":1500},null,8,["active"]),Object(n["createElementVNode"])("main",a,[r,g.carts.total>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("div",i,[s,Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("table",b,[p,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(g.carts.carts,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:e.id,class:"border-bottom border-top"},[Object(n["createElementVNode"])("th",m,[Object(n["createElementVNode"])("img",{src:"".concat(e.product.imageUrl),alt:"".concat(e.product.title),style:{width:"72px",height:"72px","object-fit":"cover"}},null,8,j),Object(n["createElementVNode"])("p",f,Object(n["toDisplayString"])(e.product.title),1)]),Object(n["createElementVNode"])("td",O,[Object(n["createElementVNode"])("p",h," NT$"+Object(n["toDisplayString"])(t.$filters.currency(e.product.price))+" / "+Object(n["toDisplayString"])(e.product.unit),1)]),Object(n["createElementVNode"])("td",y,[Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn btn-outline-dark border-0 py-2",{disabled:e.qty<=1}]),type:"button",id:"button-addon1",onClick:Object(n["withModifiers"])((function(t){return _.reduceQty(e)}),["prevent"])},v,10,V)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"number",min:"1",max:"20",class:"form-control border-0 text-center my-auto shadow-none",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":function(t){return e.qty=t},onFocus:function(t){return _.focusInput(e)},onBlur:function(t){return _.updateAmount(e)}},null,40,k),[[n["vModelText"],e.qty,void 0,{number:!0}]]),Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn btn-outline-dark border-0 py-2",{disabled:e.qty>=20}]),type:"button",id:"button-addon2",onClick:Object(n["withModifiers"])((function(t){return _.increaseQty(e)}),["prevent"])},C,10,w)])])]),Object(n["createElementVNode"])("td",B,[Object(n["createElementVNode"])("p",q,"NT$"+Object(n["toDisplayString"])(t.$filters.currency(e.total)),1)]),Object(n["createElementVNode"])("td",I,[Object(n["createElementVNode"])("button",{class:"btn btn-danger border-0",type:"button",id:"button-addon3",onClick:Object(n["withModifiers"])((function(t){return _.delCartItem(e.id)}),["prevent"])},L,8,$)])])})),128))])])]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",T,[Q,Object(n["createElementVNode"])("table",z,[Object(n["createElementVNode"])("tbody",null,[Object(n["createElementVNode"])("tr",null,[F,g.carts.total?(Object(n["openBlock"])(),Object(n["createElementBlock"])("td",M," NT$"+Object(n["toDisplayString"])(t.$filters.currency(g.carts.total)),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("td",A," NT$"+Object(n["toDisplayString"])(g.carts.total),1))]),U])]),Object(n["createElementVNode"])("div",J,[G,g.carts.final_total?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",H," NT$"+Object(n["toDisplayString"])(t.$filters.currency(g.carts.final_total)),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",K," NT$"+Object(n["toDisplayString"])(g.carts.final_total),1))]),Object(n["createElementVNode"])("div",P,[Object(n["createVNode"])(et,{to:"/cart/cartform",class:"btn w-100 mt-4 text-nowrap"},{default:Object(n["withCtx"])((function(){return[R]})),_:1})])])])])])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",W,[Object(n["createElementVNode"])("div",X,[Object(n["createElementVNode"])("div",Y,[Z,Object(n["createElementVNode"])("div",tt,[Object(n["createVNode"])(et,{to:"/products",class:"d-flex justify-content-center text-decoration-none"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("button",{type:"submit",class:"btn col-6 col-lg-4 scaling py-3",onClick:e[0]||(e[0]=function(){return t.onSubmit&&t.onSubmit.apply(t,arguments)}),"data-aos":"zoom-in","data-aos-delay":"2000","data-aos-duration":"600"},nt)]})),_:1})])])])]))])],64)}c("99af");var at=c("e4f3"),rt={name:"CartCheck",props:{propsForm:{type:Object,default:function(){return{}}}},data:function(){return{isLoading:!1,carts:{},cartsCheck:"",cartItemQty:""}},methods:{getCartItems:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart");this.isLoading=!0,this.$http.get(e).then((function(e){e.data.success?(t.carts=e.data.data,console.log(t.carts),at["a"].emit("update-cart"),t.isLoading=!1):t.isLoading=!1}))},reduceQty:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart/").concat(t.id);this.isLoading=!0;var n={data:{product_id:t.product_id,qty:t.qty-=1}};this.$http.put(c,n).then((function(t){t.data.success&&e.getCartItems()}))},increaseQty:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart/").concat(t.id);this.isLoading=!0;var n={data:{product_id:t.product_id,qty:t.qty+=1}};this.$http.put(c,n).then((function(t){t.data.success&&e.getCartItems()}))},focusInput:function(t){this.cartItemQty=t},updateAmount:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart/").concat(t.id);this.isLoading=!0;var n={data:{product_id:t.product_id,qty:t.qty}};this.$http.put(c,n).then((function(t){t.data.success&&e.getCartItems()}))},delCartItem:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart/").concat(t);this.$http.delete(c).then((function(t){t.data.success&&(console.log("刪除成功"),e.getCartItems())}))},delAllCartItems:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/carts");this.$http.delete(e).then((function(e){e.data.success&&(console.log("刪除所有項目成功"),t.getCartItems())}))}},watch:{cartItemQty:{handler:function(t){var e=t.qty,c=t,n=t.qty;e<=20?c.qty=n:e>20&&(c.qty=20),e<1&&(c.qty=1)},deep:!0}},mounted:function(){this.getCartItems()}},lt=(c("0fe4"),c("6b0d")),it=c.n(lt);e["default"]=it()(rt,[["render",ot],["__scopeId","data-v-9ec72120"]])}}]);
//# sourceMappingURL=chunk-158a5fa8.f349f8bc.js.map