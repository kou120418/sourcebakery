(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70cefb9d"],{"27d6":function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),l=function(e){return Object(a["pushScopeId"])("data-v-79f5cc28"),e=e(),Object(a["popScopeId"])(),e},n={id:"main",class:"container-lg content"},o=l((function(){return Object(a["createElementVNode"])("h2",{class:"p-5"},null,-1)})),r={class:"container"},s=l((function(){return Object(a["createElementVNode"])("div",{class:"bg-light p-3 pb-1 my-3"},[Object(a["createElementVNode"])("figure",{class:"text-center mx-auto"},[Object(a["createElementVNode"])("h2",null,"購物車明細")])],-1)})),i={class:"w-100 col-md-8"},d={class:"table"},m=l((function(){return Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{scope:"col",class:"col-lg-6 col-xs-3 border-0 ps-0"},"商品名稱"),Object(a["createElementVNode"])("th",{scope:"col",class:"col-lg-2 col-xs-3 border-0"},"商品單價"),Object(a["createElementVNode"])("th",{scope:"col",class:"col-lg-2 col-xs-3 border-0"},"數量"),Object(a["createElementVNode"])("th",{scope:"col",class:"col-lg-2 col-xs-3 border-0"},"小計")])],-1)})),b={scope:"row",class:"border-0 px-0 font-weight-normal py-4"},u=["src","alt"],p={class:"mb-0 fw-bold ms-3 d-inline-block"},f={class:"border-0 align-middle"},j={key:0,class:"mb-0 ms-auto"},O={key:1,class:"mb-0 ms-auto"},V={class:"border-0 align-middle",style:{"max-width":"160px"}},g={class:"input-group pe-5"},N={class:"border-0 align-middle"},E={key:0,class:"mb-0 ms-auto"},h={key:1,class:"mb-0 ms-auto"},k=l((function(){return Object(a["createElementVNode"])("td",{colspan:"3",class:"py-3",style:{"text-align":"right"}},[Object(a["createElementVNode"])("h4",null,"合計金額：")],-1)})),v={key:0},y={key:1},x={class:"bg-opacity mt-3 mt-md-5 p-3"},B={class:"my-2 row justify-content-center"},w={class:"mb-3"},S=l((function(){return Object(a["createElementVNode"])("label",{for:"name",class:"form-label"},"收件人姓名",-1)})),C=l((function(){return Object(a["createElementVNode"])("span",{class:"badge bg-danger p-1 fs-7 ms-1"},"必要",-1)})),T={class:"mb-3"},D=l((function(){return Object(a["createElementVNode"])("label",{for:"email",class:"form-label"},"Email",-1)})),$=l((function(){return Object(a["createElementVNode"])("span",{class:"badge bg-danger p-1 fs-7 ms-1"},"必要",-1)})),_={class:"mb-3"},I=l((function(){return Object(a["createElementVNode"])("label",{for:"tel",class:"form-label"},"收件人電話",-1)})),F=l((function(){return Object(a["createElementVNode"])("span",{class:"badge bg-danger p-1 fs-7 ms-1"},"必要",-1)})),U={class:"mb-3"},z=l((function(){return Object(a["createElementVNode"])("label",{for:"address",class:"form-label"},"收件人地址",-1)})),L=l((function(){return Object(a["createElementVNode"])("span",{class:"badge bg-danger p-1 fs-7 ms-1"},"必要",-1)})),q={class:"mb-3"},M=l((function(){return Object(a["createElementVNode"])("label",{for:"payment",class:"form-label"},"付款方式",-1)})),A=l((function(){return Object(a["createElementVNode"])("span",{class:"badge bg-danger p-1 fs-7 ms-1"},"必要",-1)})),J=l((function(){return Object(a["createElementVNode"])("option",{value:""},"請選擇付款方式",-1)})),P=l((function(){return Object(a["createElementVNode"])("option",{value:"ATM轉帳"},"ATM轉帳",-1)})),X=l((function(){return Object(a["createElementVNode"])("option",{value:"信用卡"},"信用卡",-1)})),G=l((function(){return Object(a["createElementVNode"])("option",{value:"面交"},"面交",-1)})),H={class:"mb-3"},K=l((function(){return Object(a["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1)})),Q={class:"d-flex justify-content-between"},R=Object(a["createTextVNode"])("返回購物車 "),W=["disabled"],Y={class:"setDisplay"},Z={key:0,class:"bi bi-arrow-repeat rotating me-1"},ee={key:1,class:"bi bi-check-lg me-1"},te=Object(a["createTextVNode"])("送出表單 "),ce={key:1,class:"text-center mb-0"};function ae(e,t,c,l,ae,le){var ne=Object(a["resolveComponent"])("Loading"),oe=Object(a["resolveComponent"])("Field"),re=Object(a["resolveComponent"])("ErrorMessage"),se=Object(a["resolveComponent"])("router-link"),ie=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(ne,{active:ae.isLoading,"z-index":1500},null,8,["active"]),Object(a["createElementVNode"])("main",n,[o,Object(a["createElementVNode"])("div",r,[s,Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("table",d,[m,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(ae.carts.carts,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t.id,class:"border-bottom border-top"},[Object(a["createElementVNode"])("td",b,[Object(a["createElementVNode"])("img",{src:"".concat(t.product.imageUrl),alt:"".concat(t.product.title),style:{width:"72px",height:"72px","object-fit":"cover"}},null,8,u),Object(a["createElementVNode"])("p",p,Object(a["toDisplayString"])(t.product.title),1)]),Object(a["createElementVNode"])("td",f,[ae.carts.total?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",j," NT$"+Object(a["toDisplayString"])(e.$filters.currency(t.product.price))+" / "+Object(a["toDisplayString"])(t.product.unit),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",O," NT$"+Object(a["toDisplayString"])(t.product.price)+" / "+Object(a["toDisplayString"])(t.product.unit),1))]),Object(a["createElementVNode"])("td",V,[Object(a["createElementVNode"])("div",g,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(t.qty),1)])]),Object(a["createElementVNode"])("td",N,[ae.carts.total?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",E," NT$"+Object(a["toDisplayString"])(e.$filters.currency(t.total)),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",h,"NT$"+Object(a["toDisplayString"])(t.total),1))])])})),128))]),Object(a["createElementVNode"])("tfoot",null,[Object(a["createElementVNode"])("tr",null,[k,Object(a["createElementVNode"])("td",null,[ae.carts.total?(Object(a["openBlock"])(),Object(a["createElementBlock"])("h5",v,"NT$"+Object(a["toDisplayString"])(e.$filters.currency(ae.carts.total)),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("h5",y,"NT$"+Object(a["toDisplayString"])(ae.carts.total),1))])])])])]),Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("div",B,[ae.carts.total>0?(Object(a["openBlock"])(),Object(a["createBlock"])(ie,{key:0,ref:"form",onSubmit:le.onSubmit,class:"col-md-8 order-1 order-lg-0"},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createElementVNode"])("div",w,[S,C,Object(a["createVNode"])(oe,{id:"name",name:"姓名",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["姓名"]}]),placeholder:"請輸入 姓名",rules:"required",modelValue:ae.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return ae.form.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(re,{name:"姓名",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",T,[D,$,Object(a["createVNode"])(oe,{id:"email",name:"信箱",type:"email",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["信箱"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:ae.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return ae.form.user.email=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(re,{name:"信箱",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",_,[I,F,Object(a["createVNode"])(oe,{id:"tel",name:"電話",type:"tel",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["電話"]}]),placeholder:"請輸入 電話",rules:le.isPhone,modelValue:ae.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return ae.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(a["createVNode"])(re,{name:"電話",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",U,[z,L,Object(a["createVNode"])(oe,{id:"address",name:"地址",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["地址"]}]),placeholder:"請輸入 地址",rules:"required",modelValue:ae.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return ae.form.user.address=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(re,{name:"地址",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",q,[M,A,Object(a["createVNode"])(oe,{id:"payment",class:Object(a["normalizeClass"])(["d-block w-50 p-1",{"is-invalid":c["付款方式"]}]),name:"付款方式",as:"select",rules:"required",modelValue:ae.form.user.payment_method,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ae.form.user.payment_method=e})},{default:Object(a["withCtx"])((function(){return[J,P,X,G]})),_:2},1032,["modelValue","class"]),Object(a["createVNode"])(re,{name:"付款方式",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",H,[K,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[5]||(t[5]=function(e){return ae.form.message=e})},null,512),[[a["vModelText"],ae.form.message]])]),Object(a["createElementVNode"])("div",Q,[Object(a["createVNode"])(se,{class:"btn btn-secondary",to:"/cart"},{default:Object(a["withCtx"])((function(){return[R]})),_:1}),Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-danger",disabled:ae.carts.carts<=1},[Object(a["createElementVNode"])("span",Y,[2===ae.loadingStatus.loadingItem?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",Z)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",ee)),te])],8,W)])]})),_:1},8,["onSubmit"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",ce,"請先將商品加入購物車"))])])])])],64)}c("99af");var le=c("e4f3"),ne={name:"CartForm",props:{propsForm:{type:Object,default:function(){return{}}}},data:function(){return{isLoading:!1,loadingStatus:{loadingItem:""},carts:{},form:{user:{name:"",email:"",tel:"",address:"",payment_methods:""},message:""}}},methods:{checkCart:function(){this.carts.carts.length<1?console.log("購物車裡什麼都沒有喔！"):console.log("購物車裡有".concat(this.carts.carts.length,"項產品"))},getCartItems:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart");this.isLoading=!0,this.$http.get(t).then((function(t){t.data.success&&(e.carts=t.data.data,le["a"].emit("update-cart"),e.checkCart(),e.isLoading=!1)}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請填寫正確的手機號碼格式"},onSubmit:function(){var e=this;this.loadingStatus.loadingItem=2,le["a"].emit("sendForm",this.form),setTimeout((function(){e.$router.push("/cart/cartconfirm")}),1500)}},mounted:function(){this.getCartItems()}},oe=(c("f04c"),c("6b0d")),re=c.n(oe);t["default"]=re()(ne,[["render",ae],["__scopeId","data-v-79f5cc28"]])},4876:function(e,t,c){},b0c0:function(e,t,c){var a=c("83ab"),l=c("5e77").EXISTS,n=c("9bf2").f,o=Function.prototype,r=o.toString,s=/^\s*function ([^ (]*)/,i="name";a&&!l&&n(o,i,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},e4f3:function(e,t,c){"use strict";var a=function(e){return{all:e=e||new Map,on:function(t,c){var a=e.get(t);a?a.push(c):e.set(t,[c])},off:function(t,c){var a=e.get(t);a&&(c?a.splice(a.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var a=e.get(t);a&&a.slice().map((function(e){e(c)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,c)}))}}},l=a();t["a"]=l},f04c:function(e,t,c){"use strict";c("4876")}}]);
//# sourceMappingURL=chunk-70cefb9d.a6967e77.js.map