{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/cart/CartOrderFinished.vue","webpack:///./src/views/cart/CartOrderFinished.vue?29a6"],"names":["DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","id","class","width","active","isLoading","z-index","order","products","item","key","src","product","imageUrl","alt","title","category","qty","$filters","currency","total","user","name","address","email","payment_method","type","goPayment","loadingStatus","loadingItem","data","methods","showAlert","res","$swal","message","showErrorAlert","icon","getOrder","$route","params","url","$http","then","catch","post","success","$router","push","mounted","render"],"mappings":"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","file":"js/chunk-f1f92eca.4f0af03f.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <Loading :active=\"isLoading\" :z-index=\"1500\"></Loading>\n  <main id=\"main\" class=\"container-lg content\">\n  <h2 class=\"p-5\"></h2>\n    <div class=\"container\">\n      <div class=\"bg-light p-3 pb-1 my-3\">\n        <figure class=\"text-center mx-auto\">\n          <h2>購物車明細</h2>\n        </figure>\n      </div>\n      <div class=\"w-100 w-lg-75 mx-auto\">\n        <div class=\"row justify-content-center mt-3 mt-md-5\">\n          <div class=\"col-12\">\n            <div class=\"bg-opacity p-3\">\n              <h3 class=\"text-center mb-3\">購買品項</h3>\n              <table class=\"p-table table align-middle mx-auto\">\n                <thead class=\"p-table__head\">\n                  <tr class=\"text-light\">\n                    <th width=\"40%\" class=\"text-center fs-7 fs-sm-6\">商品</th>\n                    <th class=\"p-table__th--num text-center fs-7 fs-sm-6\">數量</th>\n                  </tr>\n                </thead>\n                <tbody class=\"p-table__body\">\n                  <tr v-for=\"item in order.products\" :key=\"item\">\n                    <td>\n                      <figure class=\"d-sm-flex align-items-center\">\n                        <img\n                          class=\"product-img\"\n                          :src=\"item.product.imageUrl\"\n                          :alt=\"item.product.title\"\n                        />\n                        <figcaption class=\"ps-2\">\n                          <span class=\"badge bg-nobeta\">{{ item.product.category }}</span>\n                          <p class=\"fs-7 fs-sm-6\">{{ item.product.title }}</p>\n                        </figcaption>\n                      </figure>\n                    </td>\n                    <td class=\"text-center\">\n                      {{ item.qty }}\n                    </td>\n                  </tr>\n                </tbody>\n                <tfoot class=\"p-table__foot\">\n                  <tr class=\"text-light\">\n                    <td class=\"text-end\">總計</td>\n                    <td class=\"text-center\">{{ $filters.currency(order.total) }} NTD</td>\n                  </tr>\n                </tfoot>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row justify-content-center mt-3 mt-md-5 g-0\">\n          <div class=\"bg-opacity p-3\">\n            <div class=\"col-12 col-md-6 mx-auto\">\n              <h3 class=\"text-center mb-3\">顧客資訊</h3>\n              <div v-if=\"order.user\">\n                <dl class=\"goods-detail-description\">\n                  <dt>姓名</dt>\n                  <dd>{{ order.user.name }}</dd>\n                </dl>\n                <dl class=\"goods-detail-description\">\n                  <dt>寄送地址</dt>\n                  <dd>{{ order.user.address }}</dd>\n                </dl>\n                <dl class=\"goods-detail-description\">\n                  <dt>E-mail信箱</dt>\n                  <dd class=\"text-break\">{{ order.user.email }}</dd>\n                </dl>\n                <dl class=\"goods-detail-description\">\n                  <dt>付款方式</dt>\n                  <dd>{{ order.user.payment_method }}</dd>\n                </dl>\n              </div>\n            </div>\n            <div class=\"d-flex justify-content-center mt-4\">\n              <button type=\"button\" class=\"btn btn-danger\" @click=\"goPayment()\">\n                <span\n                  class=\"setDisplay\"\n                >\n                  <i\n                    v-if=\"loadingStatus.loadingItem === 2\"\n                    class=\"bi bi-arrow-repeat rotating me-1\">\n                  </i><i\n                    v-else\n                    class=\"bi bi-check-lg me-1\">\n                  </i>完成付款\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      loadingStatus: {\n        loadingItem: '',\n      },\n      order: {},\n    };\n  },\n  methods: {\n    showAlert(res) {\n      this.$swal(res.data.message);\n    },\n    showErrorAlert(error) {\n      this.$swal({\n        title: error,\n        icon: 'error',\n      });\n    },\n    getOrder() {\n      this.isLoading = true;\n      const { id } = this.$route.params;\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/order/${id}`;\n      this.$http.get(url).then((res) => {\n        this.order = res.data.order;\n        this.isLoading = false;\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    goPayment() {\n      this.loadingStatus.loadingItem = 2;\n      const { id } = this.$route.params;\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/pay/${id}`;\n      this.$http.post(url).then((res) => {\n        if (res.data.success) {\n          this.loadingStatus.loadingItem = '';\n          this.showAlert(res);\n          this.$router.push(`/cartpayment/${id}`);\n        }\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n  },\n  mounted() {\n    // console.clear();\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./CartOrderFinished.vue?vue&type=template&id=47f71c90\"\nimport script from \"./CartOrderFinished.vue?vue&type=script&lang=js\"\nexport * from \"./CartOrderFinished.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])"],"sourceRoot":""}