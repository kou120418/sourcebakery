(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-075d255d"],{"658f":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var n=c("7a23"),o=function(e){return Object(n["pushScopeId"])("data-v-0a3f54cc"),e=e(),Object(n["popScopeId"])(),e},r={class:"py-5"},a=o((function(){return Object(n["createElementVNode"])("div",{class:"p-5"},null,-1)})),l={class:"container-m"},s={key:0,class:"row mb-4 mb-md-6"},i={class:"col-md-6 mb-4 mb-md-0"},d={class:"products-bg-box mb-3"},u=["src"],b=["src"],m={class:"row thumbnail-box"},p={class:"col-3 mb-2 selectImg-box"},j=["src"],O=["src","onClick"],g={class:"col-md-6"},h={"aria-label":"breadcrumb"},E={class:"breadcrumb bg-white px-0 mb-0 py-3"},f={class:"breadcrumb-item"},N=Object(n["createTextVNode"])("首頁"),y={class:"breadcrumb-item"},V=Object(n["createTextVNode"])("商品列表"),v={class:"breadcrumb-item active","aria-current":"page"},k={class:"h1 mb-1"},w={class:"mt-2"},x={class:"col-3"},B={class:"h2"},C=o((function(){return Object(n["createElementVNode"])("p",{class:"mb-0 text-muted text-end"},null,-1)})),I={class:"col my-5"},$={class:"row my-4"},q=o((function(){return Object(n["createElementVNode"])("div",{class:"col-2 bdr"},[Object(n["createElementVNode"])("p",null,"商品說明")],-1)})),S={class:"col-10"},_={style:{margin:"0"}},P={class:"row my-4"},T=o((function(){return Object(n["createElementVNode"])("div",{class:"col-2 bdr"},[Object(n["createElementVNode"])("p",{style:{margin:"0"}},"商品規格")],-1)})),D={class:"col-10"},L={class:"row align-items-center"},Q={class:"col-6"},U={class:"input-group my-3 bg-light rounded"},z={class:"input-group-prepend"},A=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-dash-square"},null,-1)})),M=[A],F=["value"],J={class:"input-group-append"},R=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-plus-square"},null,-1)})),G=[R],H={class:"card-lick col-6"},K={key:0,class:"setDisplay"},W=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-arrow-repeat rotating me-1"},null,-1)})),X=Object(n["createTextVNode"])("加入購物車"),Y=[W,X],Z={key:1,class:"setDisplay"},ee=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-cart-plus-fill me-1"},null,-1)})),te=Object(n["createTextVNode"])("加入購物車"),ce=[ee,te],ne=o((function(){return Object(n["createElementVNode"])("hr",null,null,-1)})),oe=o((function(){return Object(n["createElementVNode"])("h2",{class:"text-center font-md-xl pb-4 pt-2"},"相關產品",-1)})),re={class:"row gy-4"},ae={class:"card card-product p-1"},le=["onClick"],se={class:"similar-product-img"},ie=["src","alt"],de={class:"card-body"},ue={class:"card-title fs-5"},be={class:"card-text text-inner"},me={class:"text-muted"},pe=o((function(){return Object(n["createElementVNode"])("div",{class:"card-lick"},[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-sm w-100 py-2"},[Object(n["createElementVNode"])("span",{class:"mb-2 mt-2 fs-6"}," 查看產品 ")])],-1)}));function je(e,t,c,o,A,R){var W=this,X=Object(n["resolveComponent"])("Loading"),ee=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(X,{active:A.isLoading,"z-index":1500},null,8,["active"]),Object(n["createElementVNode"])("section",r,[a,Object(n["createElementVNode"])("div",l,[A.product?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",d,[A.selectImg?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"products-bg",src:A.selectImg},null,8,u)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,class:"products-bg",src:A.product.imageUrl},null,8,b))]),Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("img",{class:"min-img img-thumbnail",src:A.product.imageUrl,onClick:t[0]||(t[0]=function(e){return A.selectImg=A.product.imageUrl})},null,8,j)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(A.product.imagesUrl,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"col-3 mb-2 selectImg-box",key:t},[Object(n["createElementVNode"])("img",{class:"min-img img-thumbnail",src:e,onClick:function(t){return A.selectImg=e}},null,8,O)])})),128))])]),Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("nav",h,[Object(n["createElementVNode"])("ol",E,[Object(n["createElementVNode"])("li",f,[Object(n["createVNode"])(ee,{class:"text-muted",to:"/"},{default:Object(n["withCtx"])((function(){return[N]})),_:1})]),Object(n["createElementVNode"])("li",y,[Object(n["createVNode"])(ee,{class:"text-muted",to:"/products"},{default:Object(n["withCtx"])((function(){return[V]})),_:1})]),Object(n["createElementVNode"])("li",v,Object(n["toDisplayString"])(A.product.title),1)])]),Object(n["createElementVNode"])("h2",k,Object(n["toDisplayString"])(A.product.title),1),Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("del",null,"NT$"+Object(n["toDisplayString"])(e.$filters.currency(A.product.origin_price)),1)]),Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("p",B,"NT$"+Object(n["toDisplayString"])(e.$filters.currency(A.product.price)),1)]),C,Object(n["createElementVNode"])("div",I,[Object(n["createElementVNode"])("div",$,[q,Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("p",_,Object(n["toDisplayString"])(A.product.description),1)])]),Object(n["createElementVNode"])("div",P,[T,Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(A.product.content),1)])])]),Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("div",Q,[Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("div",z,[Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["qtyBtn btn btn-outline-dark border-0 py-2",{disabled:A.qty<=1}]),type:"button",id:"button-addon1",onClick:t[1]||(t[1]=function(){return R.reduceQty&&R.reduceQty.apply(R,arguments)})},M,2)]),Object(n["createElementVNode"])("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",value:A.qty},null,8,F),Object(n["createElementVNode"])("div",J,[Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["qtyBtn btn btn-outline-dark border-0 py-2",{disabled:A.qty>=20}]),type:"button",id:"button-addon2",onClick:t[2]||(t[2]=function(){return R.increaseQty&&R.increaseQty.apply(R,arguments)})},G,2)])])]),Object(n["createElementVNode"])("div",H,[Object(n["createElementVNode"])("a",{href:"#",class:"text-nowrap btn w-100 py-2",onClick:t[3]||(t[3]=Object(n["withModifiers"])((function(e){return R.addToCart(W.$route.params.id)}),["prevent"]))},[2===A.loadingStatus.loadingItem?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",K,Y)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Z,ce))])])])])])):Object(n["createCommentVNode"])("",!0),ne,oe,Object(n["createElementVNode"])("ul",re,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(A.randomProducts,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"col-md-4 col-lg-3",key:t.id},[Object(n["createElementVNode"])("div",ae,[Object(n["createElementVNode"])("a",{class:"text-dark none-tx-d card-link",onClick:Object(n["withModifiers"])((function(e){return R.goProduct(t.id)}),["prevent"])},[Object(n["createElementVNode"])("div",se,[Object(n["createElementVNode"])("img",{class:"card-img-top rounded-0 w-100",src:t.imageUrl,alt:t.title},null,8,ie)]),Object(n["createElementVNode"])("div",de,[Object(n["createElementVNode"])("span",ue,Object(n["toDisplayString"])(t.title),1),Object(n["createElementVNode"])("p",be,[Object(n["createTextVNode"])(" NT$"+Object(n["toDisplayString"])(e.$filters.currency(t.price))+" ",1),Object(n["createElementVNode"])("span",me,[Object(n["createElementVNode"])("del",null,"NT$"+Object(n["toDisplayString"])(e.$filters.currency(t.origin_price)),1)])])]),pe],8,le)])])})),128))])])])],64)}c("99af"),c("4de4"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("159b");var Oe=c("e4f3");function ge(e){return Math.floor(Math.random()*e)}var he={data:function(){return{isLoading:!1,loadingStatus:{loadingItem:""},qty:1,carts:{},products:[],product:null,selectImg:"",randomProducts:[]}},methods:{showAlert:function(e){this.$swal(e.data.message)},showErrorAlert:function(e){this.$swal({title:e,icon:"error"})},getCartItem:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart");this.$http.get(t).then((function(t){t.data.success&&(e.carts=t.data.data)}))},getProducts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/products/all");this.$http.get(t).then((function(t){t.data.success&&(e.products=t.data.products,e.getRandomProducts())})).catch((function(e){console.log(e.data.message)}))},getProduct:function(){var e=this;this.isLoading=!0;var t=this.$route.params.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/product/").concat(t);this.$http.get(c).then((function(t){t.data.success&&(e.product=t.data.product,e.getProducts(),e.selectImg="",setTimeout((function(){e.isLoading=!1}),700))}))},reduceQty:function(){this.qty-=1},increaseQty:function(){this.qty+=1},addToCart:function(e){var t=this;this.loadingStatus.loadingItem=2;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart"),n={data:{product_id:e,qty:this.qty}};this.$http.post(c,n).then((function(e){e.data.success&&(console.log(e),console.log("成功加入".concat(t.qty,"個進入購物車")),t.qty=1,Oe["a"].emit("update-cart"),t.showAlert(e),t.getCartItem(),t.loadingStatus.loadingItem="")})).catch((function(e){t.showErrorAlert(e)}))},getRandomProducts:function(){var e=this;this.randomProducts=[];var t=this.product.category,c=this.products.filter((function(c){return c.id!==e.product.id&&c.category===t})),n=c.length<4?c.length:4,o=new Set([]);ge();for(var r=0;o.size<n;r+1){var a=ge(c.length);o.add(a)}o.forEach((function(t){e.randomProducts.push(c[t])}))},goProduct:function(e){this.$router.push("/product/".concat(e))}},watch:{$route:function(e){e.params.id&&(this.getProduct(),window.scrollTo({top:0,behavior:"instant"}))},qty:{handler:function(e){e>20?this.qty=20:e<1&&(this.qty=1)},deep:!0}},mounted:function(){this.getCartItem(),this.getProduct()}},Ee=(c("bc12"),c("6b0d")),fe=c.n(Ee);t["default"]=fe()(he,[["render",je],["__scopeId","data-v-0a3f54cc"]])},bc12:function(e,t,c){"use strict";c("c7d3")},c7d3:function(e,t,c){}}]);
//# sourceMappingURL=chunk-075d255d.978528a8.js.map