{"version":3,"sources":["webpack:///./src/views/admin/AdminArticles.vue","webpack:///./src/components/admin/AdminArticleModal.vue","webpack:///./src/components/admin/AdminArticleModal.vue?eb64","webpack:///./src/components/admin/DelArticleModal.vue","webpack:///./src/components/admin/DelArticleModal.vue?485b","webpack:///./src/views/admin/AdminArticles.vue?e7c7"],"names":["class","active","isLoading","z-index","openModal","articles","item","key","title","src","image","alt","tag","description","isPublic","author","$filters","date","create_at","to","id","type","page","pagination","getArticles","ref","props-article","tempArticle","updateArticle","deleteArticle","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","placeholder","newArticle","style","uploadMainImgage","editor","config","editorConfig","rows","content","true-value","false-value","$emit","propsArticle","emits","props","Object","default","data","modal","toolbar","items","methods","showErrorAlert","error","this","$swal","icon","e","console","dir","url","VUE_APP_API","file","target","files","formData","FormData","append","$http","post","then","res","imageUrl","catch","watch","dateAndTime","Date","toISOString","split","Math","floor","mixins","modalMixin","isNew","components","Pagination","AdminArticleModal","DelArticleModal","showAlert","message","num","current_page","get","success","delete","$refs","adminDelModal","hideModal","log","httpMethod","adminModal","now","mounted","render"],"mappings":"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","file":"js/chunk-2d216fa7.31dcc4bf.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\" :z-index=\"1500\"></Loading>\n  <div class=\"container content\">\n    <h2 class=\"text-center\">文章列表</h2>\n    <div class=\"text-end mt-4\">\n      <button class=\"btn btn-primary\" @click=\"openModal('new')\">\n        新增文章\n      </button>\n    </div>\n    <div class=\"row justify-content-center mt-3\">\n      <div\n        v-for=\"item in articles\"\n        :key=\"item\"\n        class=\"col-10 col-md-6 col-lg-5 col-xl-4 mb-4\"\n      >\n        <div class=\"card h-100\">\n          <h5 class=\"card-header min-vh-75 d-flex align-items-center\">\n            {{ item.title }}\n          </h5>\n          <div class=\"article-img-block\">\n            <img :src=\"item.image\" alt class=\"article-img\" />\n          </div>\n          <div class=\"card-body d-flex flex-column justify-content-end\">\n            <span class=\"badge bg-primary mb-1\">{{ item.tag }}</span>\n            <h5 class=\"card-title mt-1 fs-6\">\n              {{ item.description\n              }}<span v-if=\"item.isPublic\">\n                <i class=\"bi bi-check-circle-fill\"></i>\n              </span>\n            </h5>\n            <p class=\"card-subtitle\">作者：{{ item.author }}</p>\n            <small class=\"card-text text-muted\">\n              貼文日期：{{ $filters.date(item.create_at) }}\n            </small>\n            <div class=\"btn-group w-100 mt-3\">\n              <router-link\n                class=\"btn btn-outline-primary btn-sm\"\n                :to=\"`/admin/article/${item.id}`\"\n                >編輯</router-link\n              >\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"openModal('delete', item)\"\n              >\n                刪除\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"d-flex justify-content-center mt-5 mb-4\">\n      <Pagination :page=\"pagination\" @get-page=\"getArticles\"></Pagination>\n    </div>\n\n    <!-- Modal -->\n    <AdminArticleModal\n      ref=\"adminModal\"\n      :props-article=\"tempArticle\"\n      @update-article=\"updateArticle\"\n    ></AdminArticleModal>\n    <DelArticleModal\n      ref=\"adminDelModal\"\n      :props-article=\"tempArticle\"\n      @delete-article=\"deleteArticle\"\n    ></DelArticleModal>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/admin/AdminPagination.vue';\nimport AdminArticleModal from '@/components/admin/AdminArticleModal.vue';\nimport DelArticleModal from '@/components/admin/DelArticleModal.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      isNew: true,\n      articles: {},\n      pagination: {},\n      tempArticle: {},\n    };\n  },\n  components: {\n    Pagination,\n    AdminArticleModal,\n    DelArticleModal,\n  },\n  methods: {\n    showAlert(res) {\n      this.$swal(res.data.message);\n    },\n    showErrorAlert(error) {\n      this.$swal({\n        title: error,\n        icon: 'error',\n      });\n    },\n    getArticles(num = this.pagination.current_page || 1) {\n      // 參數預設值\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/articles?page=${num}`;\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          const { articles, pagination } = res.data;\n          this.articles = articles;\n          this.pagination = pagination;\n          this.isLoading = false;\n        }\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    deleteArticle() {\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/article/${this.tempArticle.id}`;\n      this.$http.delete(url).then((res) => {\n        this.$refs.adminDelModal.hideModal();\n        this.showAlert(res);\n        this.getArticles();\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    updateArticle(propsArticle) {\n      console.log(propsArticle);\n      let url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/article/`;\n      let httpMethod = 'post';\n      if (!this.isNew) {\n        url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/article/${propsArticle.id}`;\n        httpMethod = 'put';\n      }\n      this.$http[httpMethod](url, { data: propsArticle }).then((res) => {\n        if (res.data.success) {\n          console.log(res);\n          this.$refs.adminModal.hideModal();\n          this.showAlert(res);\n          this.getArticles();\n        }\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    openModal(isNew, item) {\n      switch (isNew) {\n        case 'new':\n          this.tempArticle = {\n            create_at: Math.floor(Date.now() / 1000),\n            image: [],\n            tag: [],\n            isPublic: false,\n          };\n          this.isNew = true;\n          this.$refs.adminModal.openModal();\n          break;\n        case 'delete':\n          this.tempArticle = { ...item };\n          this.$refs.adminDelModal.openModal();\n          break;\n        default:\n          break;\n      }\n    },\n  },\n  mounted() {\n    // console.clear();\n    this.isLoading = true;\n    this.getArticles();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    ref=\"modal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"articleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-xl modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-primary text-white\">\n          <h3 id=\"articleModalLabel\" class=\"modal-title\">\n            <span>新增文章</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row mt-3\">\n            <div class=\"form-group col-md-4\">\n              <label for=\"author\">作者名稱</label>\n              <input\n                id=\"author\"\n                type=\"text\"\n                class=\"form-control mt-1\"\n                placeholder=\"請輸入作者名稱\"\n                v-model=\"newArticle.author\"\n              />\n            </div>\n            <div class=\"form-group col-md-4\">\n              <label for=\"tag\">分類標籤</label>\n              <input\n                id=\"tag\"\n                type=\"text\"\n                class=\"form-control mt-1\"\n                placeholder=\"請輸入分類標籤\"\n                v-model=\"newArticle.tag\"\n              />\n            </div>\n            <div class=\"form-group col-md-4\">\n              <label for=\"create_at\">建立時間</label>\n              <input\n                id=\"create_at\"\n                type=\"date\"\n                class=\"form-control mt-1\"\n                placeholder=\"請輸入建立時間\"\n                v-model=\"create_at\"\n              />\n            </div>\n          </div>\n          <hr />\n          <div class=\"row mt-3\">\n            <div class=\"form-group col-md-3\">\n              <label for=\"title\">文章標題</label>\n              <input\n                id=\"title\"\n                type=\"text\"\n                class=\"form-control mt-1\"\n                placeholder=\"請輸入文章標題\"\n                v-model=\"newArticle.title\"\n              />\n            </div>\n            <div class=\"form-group col-9\">\n              <label for=\"description\">文章簡述</label>\n              <input\n                id=\"description\"\n                type=\"text\"\n                class=\"form-control mt-1\"\n                placeholder=\"請輸入文章簡述\"\n                v-model.trim=\"newArticle.description\"\n              />\n            </div>\n          </div>\n          <div class=\"row mt-3\">\n            <div class=\"form-group col-md-4\">\n              <div class=\"form-group\">\n                <label\n                  class=\"text-light bg-secondary mb-2 py-1 px-2\"\n                  for=\"mainImageUrl\"\n                  >請輸入文章圖片網址</label\n                >\n                <input\n                  id=\"mainImageUrl\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入圖片連結\"\n                  v-model.trim=\"newArticle.image\"\n                />\n                <img\n                  class=\"img-fluid my-3 form-img\"\n                  :src=\"newArticle.image\"\n                  :alt=\"newArticle.title\"\n                />\n              </div>\n              <label class=\"btn btn-outline-success btn-sm d-block w-100 mt-3\">\n                <input\n                  id=\"upload_img\"\n                  style=\"display: none\"\n                  type=\"file\"\n                  @change=\"uploadMainImgage\"\n                />\n                上傳圖片\n              </label>\n            </div>\n            <div class=\"form-group col-md-8\">\n              <label for=\"content\">文章內容</label>\n              <ckeditor\n                class=\"form-control mt-1\"\n                placeholder=\"請輸入文章內容\"\n                :editor=\"editor\"\n                :config=\"editorConfig\"\n                rows=\"12\"\n                v-model=\"newArticle.content\"\n              ></ckeditor>\n            </div>\n          </div>\n          <div class=\"form-group mt-3\">\n            <div class=\"form-check\">\n              <input\n                id=\"isPublic\"\n                class=\"form-check-input\"\n                type=\"checkbox\"\n                :true-value=\"true\"\n                :false-value=\"false\"\n                v-model=\"newArticle.isPublic\"\n              />\n              <label class=\"form-check-label\" for=\"isPublic\">是否啟用</label>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-article', propsArticle)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport modalMixin from '../../assets/javascript/modalMixin';\n\nexport default {\n  emits: ['update-article'],\n  props: {\n    propsArticle: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n      create_at: '',\n      editor: ClassicEditor,\n      editorConfig: {\n        toolbar: {\n          items: [\n            'heading', // 標題、次標題、次次標題\n            '|',\n            // 粗體、斜體\n            'bold',\n            'italic',\n            '|',\n            // 刪除線、下底線、上標、下標\n            // 'strikethrough',\n            // 'underline',\n            // 'subscript',\n            // 'superscript',\n            // '|',\n            // 編號排版、符號排版種\n            'bulletedList',\n            'numberedList',\n            '|',\n            // 文字顏色、文字底色、文字字形、文字大小、文字對齊\n            // 'fontColor',\n            // 'fontBackgroundColor',\n            // 'fontfamily',\n            // 'fontsize',\n            // 'alignment',\n            // '|',\n            'blockQuote', // 引用\n            // 代碼工具欄、程式碼區塊\n            // 'code',\n            // 'codeBlock',\n            // 表格(合併、分隔、表格底色、刪除欄/列、插入欄列)、水平線、超連結\n            'insertTable',\n            // 'horizontalLine',\n            'link',\n            '|',\n            // 縮排\n            // 'outdent',\n            // 'indent',\n            // '|',\n            'mediaEmbed', // 插入媒體\n          ],\n        },\n      },\n      newArticle: [],\n    };\n  },\n  methods: {\n    showErrorAlert(error) {\n      this.$swal({\n        title: error,\n        icon: 'error',\n      });\n    },\n    uploadMainImgage(e) {\n      console.dir(e);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      const file = e.target.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', file);\n      this.$http.post(url, formData).then((res) => {\n        this.newArticle.image = res.data.imageUrl;\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n  },\n  watch: {\n    propsArticle() {\n      this.newArticle = this.propsArticle;\n      // 將時間格式改為 YYYY-MM-DD\n      const dateAndTime = new Date(this.newArticle.create_at * 1000)\n        .toISOString()\n        .split('T');\n      [this.create_at] = dateAndTime;\n    },\n    create_at() {\n      this.newArticle.create_at = Math.floor(new Date(this.create_at) / 1000);\n    },\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./AdminArticleModal.vue?vue&type=template&id=2b473cd6\"\nimport script from \"./AdminArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminArticleModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])","<template>\n  <div\n    id=\"delArticleModal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delArticleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h3 id=\"delArticleModalLabel\" class=\"modal-title\">\n            <span>刪除文章</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          是否刪除文章<br />\n          <strong class=\"text-danger\">{{ propsArticle.title }}</strong>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            @click=\"$emit('delete-article', propsArticle)\"\n            type=\"button\"\n            class=\"btn btn-danger\"\n          >\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/assets/javascript/modalMixin';\n\nexport default {\n  emits: ['delete-article'],\n  props: {\n    propsArticle: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./DelArticleModal.vue?vue&type=template&id=424a5e20\"\nimport script from \"./DelArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelArticleModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])","import { render } from \"./AdminArticles.vue?vue&type=template&id=69e223e9\"\nimport script from \"./AdminArticles.vue?vue&type=script&lang=js\"\nexport * from \"./AdminArticles.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])"],"sourceRoot":""}