{"version":3,"sources":["webpack:///./src/views/admin/AdminOrders.vue","webpack:///./src/components/admin/AdminOrderModal.vue","webpack:///./src/components/admin/AdminOrderModal.vue?4440","webpack:///./src/components/admin/DelOrdersModal.vue","webpack:///./src/components/admin/DelOrdersModal.vue?fa89","webpack:///./src/components/admin/DelAllOrdersModal.vue","webpack:///./src/components/admin/DelAllOrdersModal.vue?2555","webpack:///./src/views/admin/AdminOrders.vue?0e79","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","width","colspan","page","pagination","getOrders","orders","item","key","id","$filters","date","create_at","user","name","email","tel","address","currency","total","is_paid","type","openModal","loadingStatus","loadingItem","disabled","ref","props-order","tempOrder","updateOrder","deleteOrder","deleteAllOrders","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","style","for","products","src","product","imageUrl","alt","title","category","qty","unit","price","paid_date","value","paidTime","$emit","emits","props","propsOrder","Object","default","data","modal","methods","this","Math","floor","Date","now","watch","mixins","modalMixin","components","Pagination","AdminOrderModal","DelOrdersModal","DelAllOrders","showAlert","res","$swal","message","showErrorAlert","error","icon","num","current_page","url","$http","get","then","success","catch","delete","$refs","adminDelModal","hideModal","adminAllOrderDelModal","inOrder","adminModal","temp","put","mounted","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match"],"mappings":"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","file":"js/chunk-dfd9a15a.0651765e.js","sourcesContent":["<template>\n  <div class=\"container content\">\n    <h2 class=\"text-center\">訂單列表</h2>\n    <div class=\"d-flex justify-content-center mt-5\">\n      <Pagination :page=\"pagination\" @get-page=\"getOrders\"></Pagination>\n    </div>\n    <!-- 訂單列表 -->\n    <table class=\"table align-middle mt-4\">\n      <thead>\n        <tr>\n          <th width=\"8%\">訂單日期</th>\n          <th width=\"9%\">客戶姓名</th>\n          <th width=\"10%\">客戶信箱</th>\n          <th width=\"10%\">客戶電話</th>\n          <th width=\"18%\">客戶地址</th>\n          <th width=\"11%\">訂單總價</th>\n          <th class=\"text-end\" width=\"9%\">付款狀態</th>\n          <th width=\"12%\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=\"align-middle\" v-for=\"item in orders\" :key=\"item.id\">\n          <td>{{ $filters.date(item.create_at) }}</td>\n          <td>{{ item.user.name }}</td>\n          <td>{{ item.user.email }}</td>\n          <td>{{ item.user.tel }}</td>\n          <td>{{ item.user.address }}</td>\n          <td>\n            <div class=\"h5\">NT${{ $filters.currency(item.total) }} 元</div>\n          </td>\n          <td class=\"text-end\">\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\n            <span v-else class=\"text-muted\">未付款</span>\n          </td>\n          <td class=\"text-end\">\n            <div class=\"btn-group\">\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-primary btn-sm\"\n                @click=\"openModal('edit', item)\"\n              >\n                查看\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"openModal('delete', item)\"\n              >\n                <span\n                  v-if=\"loadingStatus.loadingItem === item.id\"\n                  class=\"material-icons animate-spin\"\n                >\n                  cached\n                </span>\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr>\n          <td colspan=\"8\" class=\"text-end\">\n            <button\n              class=\"btn btn-outline-danger\"\n              type=\"button\"\n              @click=\"openModal('deleteAll', item)\"\n              :disabled=\"orders <= 1\"\n            >\n              <span\n                v-if=\"loadingStatus.loadingItem === 1\"\n                class=\"material-icons animate-spin\"\n              >\n                cached\n              </span>\n              刪除所有訂單\n            </button>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n    <div class=\"d-flex justify-content-center mt-5\">\n      <Pagination :page=\"pagination\" @get-page=\"getOrders\"></Pagination>\n    </div>\n\n    <!-- Modal -->\n    <AdminOrderModal\n      ref=\"adminModal\"\n      :props-order=\"tempOrder\"\n      @update-order=\"updateOrder\"\n    ></AdminOrderModal>\n    <!-- 刪除按鈕彈出 Modal -->\n    <DelOrdersModal\n      ref=\"adminDelModal\"\n      :props-order=\"tempOrder\"\n      @delete-orders=\"deleteOrder\"\n    ></DelOrdersModal>\n    <DelAllOrders\n      ref=\"adminAllOrderDelModal\"\n      @delete-all-orders=\"deleteAllOrders\"\n    ></DelAllOrders>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/admin/AdminPagination.vue';\nimport AdminOrderModal from '@/components/admin/AdminOrderModal.vue';\nimport DelOrdersModal from '@/components/admin/DelOrdersModal.vue';\nimport DelAllOrders from '@/components/admin/DelAllOrdersModal.vue';\n\nexport default {\n  data() {\n    return {\n      orders: {},\n      loadingStatus: {\n        loadingItem: '',\n      },\n      pagination: {},\n      tempOrder: {},\n    };\n  },\n  components: {\n    Pagination,\n    AdminOrderModal,\n    DelOrdersModal,\n    DelAllOrders,\n  },\n  methods: {\n    showAlert(res) {\n      this.$swal(res.data.message);\n    },\n    showErrorAlert(error) {\n      this.$swal({\n        title: error,\n        icon: 'error',\n      });\n    },\n    getOrders(num = this.pagination.current_page || 1) {\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/orders?page=${num}`;\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          const { orders, pagination } = res.data;\n          this.orders = orders;\n          this.pagination = pagination;\n        }\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    deleteOrder(item) {\n      this.loadingStatus.loadingItem = item.id;\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      this.$http.delete(url).then((res) => {\n        if (res.data.success) {\n          this.loadingStatus.loadingItem = '';\n          this.$refs.adminDelModal.hideModal();\n          this.showAlert(res);\n          this.getOrders();\n        }\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    deleteAllOrders() {\n      this.loadingStatus.loadingItem = 1;\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/orders/all`;\n      this.$http.delete(url).then((res) => {\n        if (res.data.success) {\n          this.loadingStatus.loadingItem = '';\n          this.$refs.adminAllOrderDelModal.hideModal();\n          this.showAlert(res);\n          this.getOrders();\n        }\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n    openModal(inOrder, item) {\n      switch (inOrder) {\n        case 'edit':\n          // 傳參考特性會影響到資料，因此將資料進行淺層拷貝\n          this.getOrders();\n          this.tempOrder = { ...item };\n          this.$refs.adminModal.openModal();\n          break;\n        case 'delete':\n          this.tempOrder = { ...item };\n          this.$refs.adminDelModal.openModal();\n          break;\n        case 'deleteAll':\n          this.$refs.adminAllOrderDelModal.openModal();\n          break;\n        default:\n          break;\n      }\n    },\n    updateOrder(temp) {\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/order/${temp.id}`;\n      this.$http.put(url, { data: temp }).then((res) => {\n        if (res.data.success) {\n          this.$refs.adminModal.hideModal();\n          this.getOrders();\n        } else {\n          this.showAlert(res);\n        }\n      })\n        .catch((error) => {\n          this.showErrorAlert(error);\n        });\n    },\n  },\n  mounted() {\n    this.getOrders();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    ref=\"modal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"customerOrderModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-xl modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-primary text-white\">\n          <h3 id=\"customerOrderModalLabel\" class=\"modal-title\">\n            <span>修改客戶訂單內容</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <h3 class=\"text-primary\">選購商品</h3>\n          <div class=\"px-3\">\n            <table class=\"table align-middle\">\n              <thead>\n                <tr>\n                  <th>縮圖</th>\n                  <th>品名</th>\n                  <th>類別</th>\n                  <th>數量</th>\n                  <th class=\"text-end\">單價</th>\n                  <th class=\"text-end\">合計</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                  <th>\n                    <img\n                      class=\"product-img\"\n                      :src=\"item.product.imageUrl\"\n                      :alt=\"item.product.title\"\n                    />\n                  </th>\n                  <th>\n                    {{ item.product.title }}\n                  </th>\n                  <th>\n                    {{ item.product.category }}\n                  </th>\n                  <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                  <td class=\"text-end\">\n                    {{ $filters.currency(item.product.price) }}\n                  </td>\n                  <td class=\"text-end\">\n                    {{ $filters.currency(item.qty * item.product.price) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <h3 class=\"text-primary\">用戶資料</h3>\n              <table class=\"table\">\n                <tbody v-if=\"tempOrder.user\">\n                  <tr>\n                    <th style=\"width: 100px\">姓名</th>\n                    <td>{{ tempOrder.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email</th>\n                    <td>{{ tempOrder.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>{{ tempOrder.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ tempOrder.user.address }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-md-8\">\n              <h3 class=\"text-primary\">訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{ $filters.date(tempOrder.paid_date) }}\n                      </span>\n                      <span v-else>尚無資訊</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\n                        >已付款</strong\n                      >\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>{{ $filters.currency(tempOrder.total) }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <div class=\"d-flex justify-content-end\">\n              <div class=\"form-check\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  value=\"\"\n                  id=\"flexCheckDefault\"\n                  v-model=\"tempOrder.is_paid\"\n                  @click=\"paidTime()\"\n                />\n                <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                  <span v-if=\"tempOrder.is_paid\">已付款</span>\n                  <span v-else>未付款</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-order', tempOrder)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/assets/javascript/modalMixin';\n\nexport default {\n  emits: ['update-order'],\n  props: {\n    propsOrder: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n      tempOrder: {},\n    };\n  },\n  methods: {\n    paidTime() {\n      if (this.tempOrder.paid_date) {\n        this.tempOrder.paid_date = '';\n      } else {\n        this.tempOrder.paid_date = Math.floor(Date.now() / 1000);\n      }\n    },\n  },\n  watch: {\n    propsOrder() {\n      this.tempOrder = this.propsOrder;\n    },\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./AdminOrderModal.vue?vue&type=template&id=7c972d30\"\nimport script from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])","<template>\n  <div\n    id=\"delOrderModal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delOrderModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h3 id=\"delOrderModalLabel\" class=\"modal-title\">\n            <span>刪除單筆訂單</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div v-if=\"propsOrder.id\" class=\"modal-body\">\n          是否刪除\n          <strong class=\"text-danger\">{{ propsOrder.user.name }}</strong>\n          的訂單(刪除後將無法恢復)。\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            @click=\"$emit('delete-orders', propsOrder)\"\n            type=\"button\"\n            class=\"btn btn-danger\"\n          >\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/assets/javascript/modalMixin';\n\nexport default {\n  emits: ['delete-orders'],\n  props: {\n    propsOrder: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./DelOrdersModal.vue?vue&type=template&id=530e26e2\"\nimport script from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])","<template>\n  <div\n    id=\"delAllOrderModal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delAllOrderModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h3 id=\"delAllOrderModalLabel\" class=\"modal-title\">\n            <span>刪除全部訂單</span>\n          </h3>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body text-center\">\n          是否刪除所有訂單<br />\n          <strong class=\"text-danger fs-4\">刪除後將無法復原</strong>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            @click=\"$emit('delete-all-orders')\"\n            type=\"button\"\n            class=\"btn btn-danger\"\n          >\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/assets/javascript/modalMixin';\n\nexport default {\n  emits: ['delete-all-orders'],\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./DelAllOrdersModal.vue?vue&type=template&id=3311ffa2\"\nimport script from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])","import { render } from \"./AdminOrders.vue?vue&type=template&id=66eaa397\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Project\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}