(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-318b59f2"],{"06c5":function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));c("fb6a"),c("d3b7"),c("b0c0"),c("a630"),c("3ca3");var r=c("6b75");function n(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Object(r["a"])(e,t):void 0}}},2532:function(e,t,c){"use strict";var r=c("23e7"),n=c("5a34"),o=c("1d80"),a=c("577e"),i=c("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~a(o(this)).indexOf(a(n(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,c){var r=c("861d"),n=c("c6b6"),o=c("b622"),a=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==n(e))}},"466d":function(e,t,c){"use strict";var r=c("d784"),n=c("825a"),o=c("50c4"),a=c("577e"),i=c("1d80"),s=c("dc4a"),l=c("8aa5"),d=c("14c3");r("match",(function(e,t,c){return[function(t){var c=i(this),r=void 0==t?void 0:s(t,e);return r?r.call(t,c):new RegExp(t)[e](a(c))},function(e){var r=n(this),i=a(e),s=c(t,r,i);if(s.done)return s.value;if(!r.global)return d(r,i);var u=r.unicode;r.lastIndex=0;var f,b=[],p=0;while(null!==(f=d(r,i))){var m=a(f[0]);b[p]=m,""===m&&(r.lastIndex=l(i,o(r.lastIndex),u)),p++}return 0===p?null:b}]}))},"4df4":function(e,t,c){"use strict";var r=c("0366"),n=c("7b0b"),o=c("9bdd"),a=c("e95a"),i=c("68ee"),s=c("50c4"),l=c("8418"),d=c("9a1f"),u=c("35a1");e.exports=function(e){var t=n(e),c=i(this),f=arguments.length,b=f>1?arguments[1]:void 0,p=void 0!==b;p&&(b=r(b,f>2?arguments[2]:void 0,2));var m,h,v,g,y,j,O=u(t),w=0;if(!O||this==Array&&a(O))for(m=s(t.length),h=c?new this(m):Array(m);m>w;w++)j=p?b(t[w],w):t[w],l(h,w,j);else for(g=d(t,O),y=g.next,h=c?new this:[];!(v=y.call(g)).done;w++)j=p?o(g,b,[v.value,w],!0):v.value,l(h,w,j);return h.length=w,h}},"5a34":function(e,t,c){var r=c("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6b75":function(e,t,c){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,r=new Array(t);c<t;c++)r[c]=e[c];return r}c.d(t,"a",(function(){return r}))},"8f6d":function(e,t,c){},"9bdd":function(e,t,c){var r=c("825a"),n=c("2a62");e.exports=function(e,t,c,o){try{return o?t(r(c)[0],c[1]):t(c)}catch(a){n(e,"throw",a)}}},a434:function(e,t,c){"use strict";var r=c("23e7"),n=c("23cb"),o=c("a691"),a=c("50c4"),i=c("7b0b"),s=c("65f0"),l=c("8418"),d=c("1dde"),u=d("splice"),f=Math.max,b=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var c,r,d,u,h,v,g=i(this),y=a(g.length),j=n(e,y),O=arguments.length;if(0===O?c=r=0:1===O?(c=0,r=y-j):(c=O-2,r=b(f(o(t),0),y-j)),y+c-r>p)throw TypeError(m);for(d=s(g,r),u=0;u<r;u++)h=j+u,h in g&&l(d,u,g[h]);if(d.length=r,c<r){for(u=j;u<y-r;u++)h=u+r,v=u+c,h in g?g[v]=g[h]:delete g[v];for(u=y;u>y-r+c;u--)delete g[u-1]}else if(c>r)for(u=y-r;u>j;u--)h=u+r-1,v=u+c-1,h in g?g[v]=g[h]:delete g[v];for(u=0;u<c;u++)g[u+j]=arguments[u+2];return g.length=y-r+c,d}})},a630:function(e,t,c){var r=c("23e7"),n=c("4df4"),o=c("1c7e"),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:n})},ab13:function(e,t,c){var r=c("b622"),n=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(c){try{return t[n]=!1,"/./"[e](t)}catch(r){}}return!1}},b0c0:function(e,t,c){var r=c("83ab"),n=c("5e77").EXISTS,o=c("9bf2").f,a=Function.prototype,i=a.toString,s=/^\s*function ([^ (]*)/,l="name";r&&!n&&o(a,l,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},caad:function(e,t,c){"use strict";var r=c("23e7"),n=c("4d64").includes,o=c("44d2");r({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d28b:function(e,t,c){var r=c("746f");r("iterator")},ed0c:function(e,t,c){"use strict";c("8f6d")},ed84:function(e,t,c){"use strict";c.r(t);c("caad"),c("2532");var r=c("7a23"),n=function(e){return Object(r["pushScopeId"])("data-v-24455d8e"),e=e(),Object(r["popScopeId"])(),e},o=n((function(){return Object(r["createElementVNode"])("div",{class:"py-4 px-5"},null,-1)})),a={class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"400px"}},i=n((function(){return Object(r["createElementVNode"])("div",{class:"position-absolute front-cover"},[Object(r["createElementVNode"])("img",{class:"bg-picture",src:"https://images.unsplash.com/photo-1532635224-cf024e66d122?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80",alt:""})],-1)})),s={key:0,class:"cover-category"},l={key:1,class:"cover-category"},d={class:"container mt-md-5 mt-3 mb-7"},u={class:"nav-products"},f={class:"nav-products__lists"},b={class:"nav-products__list"},p=n((function(){return Object(r["createElementVNode"])("span",null,"所有商品",-1)})),m=[p],h=["onClick"],v={class:"row justify-content-center my-5"},g={class:"col-11 col-sm-12 col-md-12 col-lg-10 col-xl-11"},y={class:"row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-2 row-cols-xl-3 list-unstyled gx-3 gy-5"},j={class:"card card-product p-2"},O={class:"overflow-hidden"},w=["src"],k={class:"card-body"},E={class:"card-title"},x={class:"card-text text-inner"},N={class:"text-muted"},V=["onClick"],C={key:0,class:"bi bi-heart-fill position-absolute"},S={key:1,class:"bi bi-heart position-absolute"},B={class:"card-lick d-flex justify-content-center"},A=["onClick"],F=n((function(){return Object(r["createElementVNode"])("span",{class:"mb-2 mt-2 fs-6"}," 查看產品 ",-1)})),M=[F],I=["onClick","disabled"],_={key:0,class:"mb-2 mt-2 fs-6 setDisplay"},T=n((function(){return Object(r["createElementVNode"])("i",{class:"bi bi-arrow-repeat rotating me-1"},null,-1)})),D=Object(r["createTextVNode"])("加入"),$=[T,D],P={key:1,class:"mb-2 mt-2 fs-6 setDisplay"},L=n((function(){return Object(r["createElementVNode"])("i",{class:"bi bi-cart-plus-fill me-1"},null,-1)})),z=Object(r["createTextVNode"])("加入"),J=[L,z];function H(e,t,c,n,p,F){var T=this,D=Object(r["resolveComponent"])("Loading"),L=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(D,{active:p.isLoading,"z-index":1500},null,8,["active"]),o,Object(r["createElementVNode"])("div",a,[i,p.nowCategory?(Object(r["openBlock"])(),Object(r["createElementBlock"])("h2",s,Object(r["toDisplayString"])(p.nowCategory),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("h2",l,"所有品項"))]),Object(r["createElementVNode"])("div",d,[Object(r["createElementVNode"])("nav",u,[Object(r["createElementVNode"])("ul",f,[Object(r["createElementVNode"])("li",b,[Object(r["createElementVNode"])("a",{href:"#","aria-current":"true",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(e){return p.nowCategory=""}),["prevent"])),class:Object(r["normalizeClass"])({active:""===p.nowCategory})},m,2)]),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(p.categories,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"nav-products__list",key:e.index},[Object(r["createElementVNode"])("a",{href:"#","aria-current":"true",onClick:Object(r["withModifiers"])((function(t){return p.nowCategory=e}),["prevent"]),class:Object(r["normalizeClass"])({active:e===p.nowCategory})},[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e),1)],10,h)])})),128))])]),Object(r["createElementVNode"])("div",v,[Object(r["createElementVNode"])("div",g,[Object(r["createElementVNode"])("ul",y,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(F.filterProducts,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"col",key:t.id,"data-aos":"fade-zoom-in","data-aos-duration":"600"},[Object(r["createElementVNode"])("div",j,[Object(r["createVNode"])(L,{to:"/product/".concat(t.id),class:"text-decoration-none card-link"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",O,[Object(r["createElementVNode"])("img",{src:"".concat(t.imageUrl),class:"card-img-top rounded-0",alt:"..."},null,8,w)]),Object(r["createElementVNode"])("div",k,[Object(r["createElementVNode"])("span",E,Object(r["toDisplayString"])(t.title),1),Object(r["createElementVNode"])("p",x,[Object(r["createTextVNode"])(" NT$"+Object(r["toDisplayString"])(e.$filters.currency(t.price))+" ",1),Object(r["createElementVNode"])("span",N,[Object(r["createElementVNode"])("del",null,"NT$"+Object(r["toDisplayString"])(e.$filters.currency(t.origin_price)),1)])])])]})),_:2},1032,["to"]),Object(r["createElementVNode"])("a",{href:"#",class:"text-dark text-decoration-none h-100 card-icon-link",onClick:Object(r["withModifiers"])((function(c){return e.addMyFavorite(t.id)}),["prevent"])},[T.myFavorite.includes(t.id)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("i",C)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("i",S))],8,V),Object(r["createElementVNode"])("div",B,[Object(r["createElementVNode"])("button",{type:"button",onClick:Object(r["withModifiers"])((function(e){return F.checkProductDetail(t.id)}),["prevent"]),class:"btn btn-sm w-50 py-2 mx-1"},M,8,A),Object(r["createElementVNode"])("button",{type:"button",onClick:Object(r["withModifiers"])((function(e){return F.addToCart(t.id)}),["prevent"]),disabled:p.loadingStatus.loadingItem===t.id+1,class:"btn btn-sm w-50 py-2 mx-1"},[p.loadingStatus.loadingItem===t.id+1?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",_,$)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",P,J))],8,I)])])])})),128))])])])])],64)}var q=c("6b75");function G(e){if(Array.isArray(e))return Object(q["a"])(e)}c("a4d3"),c("e01a"),c("d3b7"),c("d28b"),c("3ca3"),c("ddb0"),c("a630");function R(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var U=c("06c5");function W(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X(e){return G(e)||R(e)||Object(U["a"])(e)||W()}c("99af"),c("6062"),c("159b"),c("4de4"),c("ac1f"),c("466d");var Y=c("e4f3"),K=(c("a434"),{methods:{saveMyFavorite:function(e){var t=JSON.stringify(e);console.log(t),localStorage.setItem("Favorite",t)},getMyFavorite:function(){return JSON.parse(localStorage.getItem("Favorite"))},addMyFavorite:function(e){this.myFavorite.includes(e)?this.myFavorite.splice(this.myFavorite.indexOf(e),1):(this.myFavorite.push(e),console.log(this.myFavorite)),this.saveMyFavorite(this.myFavorite)}}}),Q={data:function(){return{isLoading:!1,loadingStatus:{loadingItem:""},pagination:{},products:[],categories:"",showProducts:[],nowCategory:"",myFavorite:this.getMyFavorite()||[]}},mixins:[K],methods:{showAlert:function(e){this.$swal(e.data.message)},showErrorAlert:function(e){this.$swal({title:e,icon:"error"})},getProducts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/products");this.isLoading=!0,this.$http.get(t).then((function(t){t.data.success&&setTimeout((function(){e.showProducts=[],e.products=t.data.products,e.getCategories(),e.showProducts=e.products,e.isLoading=!1,window.scrollTo({top:0,behavior:"instant"})}),700)})).catch((function(e){return e}))},getCategories:function(){var e=new Set([]);this.products.forEach((function(t){e.add(t.category)})),this.categories=X(e)},addToCart:function(e){var t=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingStatus.loadingItem=e+1;var r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("kouyu_api_practice","/cart"),n={data:{product_id:e,qty:c}};this.$http.post(r,n).then((function(e){e.data.success&&(t.loadingStatus.loadingItem="",Y["a"].emit("update-cart"),t.showAlert(e))})).catch((function(e){t.showErrorAlert(e)}))},checkProductDetail:function(e){this.$router.push({path:"/product/".concat(e)})}},computed:{filterProducts:function(){var e=this;return this.products.filter((function(t){return t.category.match(e.nowCategory)}))}},mounted:function(){this.getProducts()}},Z=(c("ed0c"),c("6b0d")),ee=c.n(Z);t["default"]=ee()(Q,[["render",H],["__scopeId","data-v-24455d8e"]])},fb6a:function(e,t,c){"use strict";var r=c("23e7"),n=c("e8b5"),o=c("68ee"),a=c("861d"),i=c("23cb"),s=c("50c4"),l=c("fc6a"),d=c("8418"),u=c("b622"),f=c("1dde"),b=f("slice"),p=u("species"),m=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var c,r,u,f=l(this),b=s(f.length),v=i(e,b),g=i(void 0===t?b:t,b);if(n(f)&&(c=f.constructor,o(c)&&(c===Array||n(c.prototype))?c=void 0:a(c)&&(c=c[p],null===c&&(c=void 0)),c===Array||void 0===c))return m.call(f,v,g);for(r=new(void 0===c?Array:c)(h(g-v,0)),u=0;v<g;v++,u++)v in f&&d(r,u,f[v]);return r.length=u,r}})}}]);
//# sourceMappingURL=chunk-318b59f2.f95a0049.js.map